name: Release

on:
  push:
    tags:
      - '*'
#  pull_request:
#    branches:
#      - main
#  push:
#    branches:
#      - main

jobs:
  publish:
    name: Publish for Windows
    runs-on: windows-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
#    - name: Set up Python
#      uses: actions/setup-python@v3
#      with:
#        python-version: "3.8.0"
#    - name: Basic checks
#      uses: python checks.py
#    - name: Install Builder
#      run: python -m pip install briefcase==0.3.15
#    - name: CPU - Create Package
#      run: briefcase create
#    - name: CPU - Build Package
#      run: briefcase build
#    - name: CPU - Create Installer
#      run: briefcase package

    - name: Asset
      run: "my test release" > test.txt

    - name: CPU - Upload MSI binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: test.txt
        asset_name: test.txt
        tag: ${{ github.ref }}